[toc]





```java
class Solution {
    public String reorganizeString(String S) {
        if(S == null || S.isEmpty()) {
            return "";
        }
        // 计数
        char[] counter = new char[26];
        for(char c : S.toCharArray()) {
            counter[c - 'a']++;
        }
        // 最大堆
        PriorityQueue<int[]> queue = new PriorityQueue<>((a, b) -> b[1] - a[1]);
        for (int i = 0; i < 26; i++) {
            if(counter[i] > 0) queue.add(new int[]{i, counter[i]});
        }
        StringBuffer sb = new StringBuffer();
        List<int[]> temp = new LinkedList<>();
        while(!queue.isEmpty()) {
            int[] cur = queue.poll();
            if(--cur[1] > 0) {
                temp.add(cur);
            }
            if(!queue.isEmpty()) {
                int[] next = queue.poll();
                if(--next[1] > 0) {
                    temp.add(next);
                }
                sb.append((char)(cur[0] + 'a')).append((char)(next[0] + 'a'));
                for(int[] traverse : temp) {
                    queue.add(traverse);
                }
                temp.clear();
            } else if(temp.isEmpty()) {
                sb.append((char)(cur[0] + 'a'));
                break;
            } else {
                return "";
            }
        }
        return sb.toString();
    }
}
```

