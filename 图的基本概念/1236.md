[toc]

```java
class Solution {
    public List<String> crawl(String startUrl, HtmlParser htmlParser) {
        List<String> res = new LinkedList<>();
        if (startUrl == null || startUrl.isEmpty()) return res;

        String domainUrl = startUrl.split("/")[2];
        Set<String> set = new HashSet<>();
        crawl(startUrl, "http://" + domainUrl, htmlParser, set, res);
        return res;
    }

    private void crawl(String startUrl, String domainUrl, HtmlParser htmlParser, Set<String> set, List<String> res) {
        // 不合法或已遍历，返回
        if (startUrl == null || startUrl.isEmpty() || set.contains(startUrl)) return;
        // 添加到已遍历
        set.add(startUrl);
        res.add(startUrl);
        // 递归遍历
        List<String> urls = htmlParser.getUrls(startUrl);
        if (urls == null) return;
        for (String url : urls) {
            if(url.startsWith(domainUrl)) crawl(url, domainUrl, htmlParser, set, res);
        }
    }
}
```
