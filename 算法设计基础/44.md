[toc]

```java
class Solution {
    public boolean isMatch(String s, String p) {
        return isMatch(s, p, 0, 0);
    }

    private boolean isMatch(String s, String p, int l, int r) {
        if (p.length() == r) return s.length() <= l;

        // 当前字母匹配
        if (l < s.length() && (s.charAt(l) == p.charAt(r) || p.charAt(r) == '?'))
            return isMatch(s, p, l + 1, r + 1);
        else if (p.charAt(r) == '*') return (l < s.length() && isMatch(s, p, l + 1, r)) || isMatch(s, p, l, r + 1);
        else return false;
    }
}
```



```java
class Solution {
    int[][] dp;

    public boolean isMatch(String s, String p) {
        dp = new int[s.length() + 1][p.length() + 1];
        return isMatch(s, p, 0, 0);
    }

    private boolean isMatch(String s, String p, int l, int r) {
        if (dp[l][r] != 0) return dp[l][r] == 1;

        if (p.length() == r) {
            dp[l][r] = s.length() <= l ? 1 : -1;
            return dp[l][r] == 1;
        }

        // 当前字母匹配
        if (l < s.length() && (s.charAt(l) == p.charAt(r) || p.charAt(r) == '?')) {
            dp[l][r] = isMatch(s, p, l + 1, r + 1) ? 1 : -1;
        }
        else if (p.charAt(r) == '*') {
            dp[l][r] = (l < s.length() && isMatch(s, p, l + 1, r)) || isMatch(s, p, l, r + 1) ? 1 : -1;
        }
        else dp[l][r] = -1;

        return dp[l][r] == 1;
    }
}
```

