[toc]

```java
class Solution {
    public int numDecodings(String s) {
        if (s == null || s.isEmpty()) return 0;

        int len = s.length();
        int[] dp = new int[len];
        char[] c = s.toCharArray();

        for (int i = 0; i < len; i++) {
            // 存在非法字母
            if (c[i] < '0' || c[i] > '9') return 0;

            // 0与前面字母组不成编码，返回
            if (c[i] == '0' && (i == 0 || c[i - 1] == '0' || c[i - 1] > '2')) return 0;

            // 初始化
            if (i == 0) {
                dp[0] = 1;
                continue;
            }

            if (c[i - 1] == '1' || (c[i - 1] == '2' && c[i] <= '6')) {
                if (c[i] == '0') {
                    dp[i] = i - 2 > 0 ? dp[i - 2] : 1;
                } else {
                    dp[i] = dp[i - 1] + (i - 2 > 0 ? dp[i - 2] : 1);
                }
            } else {
                dp[i] = dp[i - 1];
            }

        }

        return dp[c.length - 1];
    }
}
```
