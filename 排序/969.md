[toc]



```java
class Solution {
    public List<Integer> pancakeSort(int[] A) {
        List<Integer> res = new LinkedList<>();
        if(A == null || A.length < 1) {
            return res;
        }
        int idx = 1;
        while (idx < A.length - 1) {
            // 递增遇到较小值
            if(A[idx] >= A[idx - 1] && A[idx] > A[idx + 1]) {
                if(A[idx + 1] <= A[0]) {
                    res.add(idx + 1);
                    reverse(A, 0, idx);
                } else {
                    res.add(idx + 2);
                    reverse(A, 0, idx + 1);
                    idx = 1;
                }
                continue;
            }
            if(A[idx] <= A[idx - 1] && A[idx] < A[idx + 1]) {
                if(A[idx + 1] >= A[0]) {
                    res.add(idx + 1);
                    reverse(A, 0, idx);
                } else {
                    res.add(idx + 2);
                    reverse(A, 0, idx + 1);
                    idx = 1;
                }
                continue;
            }
            idx++;
        }
        if(A[A.length - 1] < A[0]) {
            reverse(A, 0, A.length - 1);
            res.add(A.length);
        }
        return res;
    }

    private void reverse(int[] A, int start, int end) {
        while(start < end) {
            swap(A, start++, end--);
        }
    }

    private void swap(int[] A, int i, int j) {
        int temp = A[i];
        A[i] = A[j];
        A[j] = temp;
    }
}
```

